<div class="container py-4">
  <header class="mb-4 text-center">
    <h1 class="fw-bold">🎮 {{ user?.name || 'User' }}'s Collection</h1>
  </header>

  <app-collection-status-chart [games]="games"></app-collection-status-chart>

  <nav class="mb-4">
    <ul class="nav nav-pills justify-content-center gap-2">
      <li class="nav-item">
        <button class="nav-link" [class.active]="activeTab === 'playing'" (click)="activeTab = 'playing'">
          🎮 Playing
        </button>
      </li>
      <li class="nav-item">
        <button class="nav-link" [class.active]="activeTab === 'beaten'" (click)="activeTab = 'beaten'">
          ✅ Beaten
        </button>
      </li>
      <li class="nav-item">
        <button class="nav-link" [class.active]="activeTab === 'completed'" (click)="activeTab = 'completed'">
          🏆 Completed 100%
        </button>
      </li>
      <li class="nav-item">
        <button class="nav-link" [class.active]="activeTab === 'abandoned'" (click)="activeTab = 'abandoned'">
          🚫 Abandoned
        </button>
      </li>
    </ul>
  </nav>

  <section [ngSwitch]="activeTab" class="mt-3">
    <app-playing *ngSwitchCase="'playing'" [allGames]="games" (gameUpdated)="onGameUpdated()"></app-playing>
    <app-beaten *ngSwitchCase="'beaten'" [allGames]="games" (gameUpdated)="onGameUpdated()"></app-beaten>
    <app-completed *ngSwitchCase="'completed'" [allGames]="games" (gameUpdated)="onGameUpdated()"></app-completed>
    <app-abandoned *ngSwitchCase="'abandoned'" [allGames]="games" (gameUpdated)="onGameUpdated()"></app-abandoned>
  </section>
</div>
