<div class="d-flex justify-content-between align-items-center mb-3">
  <h2 class="fw-bold">Custom Lists</h2>
  <button class="btn btn-sm btn-outline-primary" (click)="openListModal()">+ New</button>
</div>

<p class="text-center text-muted" *ngIf="lists.length === 0">Custom lists are empty.</p>

<ul class="list-group mt-3" *ngIf="lists.length > 0">
  <li *ngFor="let list of lists" class="list-group-item">
    <h5>{{ list.title }}</h5>
    <p class="mb-0 text-muted">{{ list.description }}</p>

    <!-- Mostrar juegos dentro de la lista -->
    <div *ngIf="list.games.length > 0" class="mt-2">
      <h6>ðŸŽ® Games in this list:</h6>
      <ul class="list-unstyled">
        <li *ngFor="let game of list.games" class="d-flex align-items-center mb-2">
          <img [src]="game.gameImage" alt="{{ game.gameName }}" width="40" height="40" class="me-2 rounded">
          <span>{{ game.gameName }}</span>
        </li>
      </ul>
    </div>

    <!-- Si no hay juegos -->
    <p *ngIf="!list.games || list.games.length === 0" class="text-muted fst-italic mt-2">
      No games yet.
    </p>
  </li>
</ul>


<div #listModal class="modal fade" tabindex="-1" aria-labelledby="listModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">

      <div class="modal-header">
        <h5 class="modal-title" id="listModalLabel">New List</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>

      <div class="modal-body">
        <div class="mb-3">
          <label for="list-title" class="form-label">Title</label>
          <input type="text" id="list-title" class="form-control" [(ngModel)]="newList.title">
        </div>

        <div class="mb-3">
          <label for="list-description" class="form-label">Description</label>
          <input type="text" id="list-description" class="form-control" [(ngModel)]="newList.description">
        </div>
      </div>

      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary" (click)="saveNewList()">Save</button>
      </div>

    </div>
  </div>
</div>
