<div *ngIf="user" class="container mt-4">
  <div class="d-flex align-items-center">
    <img
      [src]="user.avatarUrl || 'assets/images/profile-pic.jpg'"
      alt="User Avatar"
      class="rounded-circle me-3"
      width="80"
      height="80"
    />
    <div>
      <h2>{{ user.displayName || user.name }}</h2>
    </div>
  </div>

  <div class="mt-3">
    <p><strong>Email:</strong> {{ user.email }}</p>
    <p><strong>Bio:</strong> {{ user.bio || '' }}</p>
  </div>

  <button 
    *ngIf="authService.getCurrentUser()?.id !== profileUserId"
    class="btn" 
    [ngClass]="isFollowing ? 'btn-secondary' : 'btn-primary'" 
    (click)="toggleFollow()">
    {{ isFollowing ? 'Unfollow' : 'Follow' }}
  </button>

  <div class="mt-5">
    <app-wishlist *ngIf="user" [userId]="profileUserId" [visitedUser]="user"></app-wishlist>
  </div>
  
</div>

<div *ngIf="!user" class="text-center mt-5">
  <p>Loading profile...</p>
</div>
